(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(48)},37:function(e,t,a){},39:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},40:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),c=a(0),l=a.n(c),u=a(26),s=a.n(u),o=(a(37),a(9)),i=a(10),m=a(12),p=a(11),E=a(13),h=(a(39),a(40),a(51)),b=a(53),d=a(55),f=a(52),O=a(54),v=a(15),j=(Object(v.a)(),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={mail:""},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"inputHandler",value:function(e){var t=e.currentTarget.val;this.setState({mail:t})}},{key:"onSubmitter",value:function(e){e.preventDefault(),this.props.dispatch({type:"RESETPASS",payload:this.state.mail})}},{key:"render",value:function(){return l.a.createElement("div",{className:"ob"},l.a.createElement("h1",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u044e \u043f\u043e\u0447\u0442\u0443"),l.a.createElement("form",{onSubmit:this.onSubmitter.bind(this)},l.a.createElement("input",{type:"text",value:this.state.mail,onChange:this.inputHandler.bind(this),name:"mail",required:!0}),l.a.createElement("button",{type:"submit"}," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c ")))}}]),t}(c.Component)),g=(c.Component,function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={data:"TEXT"},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return l.a.createElement("div",{className:"ob"},l.a.createElement("h1",null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"))}}]),t}(c.Component)),S=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:" block_rxjs_subject"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")))}}]),t}(c.Component),y=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).call(this,e))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row "},l.a.createElement("div",{className:"col"},l.a.createElement("h1",{className:" block_rxjs_subject"},"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d"),l.a.createElement("p",null,"\u0412\u044b \u0434\u043e\u043b\u0436\u043d\u044b ",l.a.createElement(h.a,{to:"signin"},"\u0432\u043e\u0439\u0442\u0438")," \u0438\u043b\u0438 ",l.a.createElement(h.a,{to:"/registration"},"\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}}]),t}(c.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={userData:{userName:"",userPass:""}},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"changeValue",value:function(e){e.preventDefault();var t=e.target.value,a=e.target.name,n=Object.assign({},this.state);n[a]=t,this.setState(n)}},{key:"onSubmitter",value:function(e){e.preventDefault();var t=this.state.userData;this.props.dispatch({type:"REGISTRATION",payload:t}),console.log("userData dispatched",t)}},{key:"render",value:function(){return console.log("App props",this.props),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,"\u0412\u0445\u043e\u0434"),l.a.createElement("div",{className:" block_rxjs_subject"},l.a.createElement(h.a,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),l.a.createElement("br",null),l.a.createElement("p",null,"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0438\u043b\u0438 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),l.a.createElement("form",{onSubmit:this.onSubmitter.bind(this)},l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userName,onChange:this.changeValue.bind(this),name:"userName",required:!0})),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userPass,onChange:this.changeValue.bind(this),name:"userPass",required:!0})),l.a.createElement("p",null,l.a.createElement("button",null,"\u0412\u043e\u0439\u0442\u0438")," \u0438\u043b\u0438 ",l.a.createElement(h.a,{to:"/registration"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))),l.a.createElement("br",null),l.a.createElement("p",null,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? "),l.a.createElement("p",null,l.a.createElement(h.a,{to:"/resetpass"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))))}}]),t}(c.Component),_=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={userData:{userName:"",userPass:"",userMail:"",userPassRepeat:"",acceptTerms:!1},passwordCheck:null,mailCheck:null,termsCheck:null},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"changeValue",value:function(e){var t=e.target.value,a=e.target.name,n=Object.assign({},this.state);"checkbox"==e.target.type&&"undefined"!==typeof n[a]?n[a]=!n[a].value:n[a]=t,this.setState(n)}},{key:"onSubmitter",value:function(e){e.preventDefault();var t=this.state.userData;this.props.dispatch({type:"REGISTRATION",payload:t}),console.log("userData dispatched",t)}},{key:"render",value:function(){return null!==this.props.user?l.a.createElement(b.a,{to:"/usercabinet"}):l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),l.a.createElement("div",{className:" block_rxjs_subject"},l.a.createElement("form",{onSubmit:this.onSubmitter.bind(this)},l.a.createElement(h.a,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),l.a.createElement("br",null),l.a.createElement("p",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userName,placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f*",onChange:this.changeValue.bind(this),name:"userName",required:!0})),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userMail,placeholder:"\u0412\u0430\u0448\u0430 \u043f\u043e\u0447\u0442\u0430*",onChange:this.changeValue.bind(this),name:"userMail",required:!0})),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userPass,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c*",onChange:this.changeValue.bind(this),name:"userPass",required:!0})),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userPassRepeat,placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c*",onChange:this.changeValue.bind(this),name:"userPassRepeat",required:!0})),l.a.createElement("p",null,l.a.createElement("input",{type:"checkbox",value:this.state.acceptTerms,onChange:this.changeValue.bind(this),name:"acceptTerms",required:!0}),"* \u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"),l.a.createElement("p",null,l.a.createElement("button",{type:"submit"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")," \u0438\u043b\u0438 ",l.a.createElement(h.a,{to:"/signin"},"\u0412\u043e\u0439\u0442\u0438")),l.a.createElement("br",null)))))}}]),t}(c.Component),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={userName:"",userPass:""},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"changeValue",value:function(e){var t=e.target.value,a=e.target.name,n=Object.assign({},this.state);n[a]=t,this.setState(n)}},{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("h1",null,"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ",this.props.user.userName),l.a.createElement("div",{className:" block_rxjs_subject"},l.a.createElement("br",null),l.a.createElement("p",null,"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userName,onChange:this.changeValue.bind(this),name:"userName"})),l.a.createElement("p",null,l.a.createElement("input",{type:"text",value:this.state.userPass,onChange:this.changeValue.bind(this),name:"userPass"})),l.a.createElement("p",null,l.a.createElement("button",null,"\u0412\u043e\u0439\u0442\u0438"),l.a.createElement(h.a,{to:"/registration"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),l.a.createElement("br",null),l.a.createElement("p",null,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c? "),l.a.createElement("p",null,l.a.createElement(h.a,{to:"/resetpass"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c")))))}}]),t}(c.Component),R=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(k,null)}}]),t}(c.Component),k=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={data:[]},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:" block_rxjs_subject"},l.a.createElement("div",{className:"block_nav"},null==e.props.user||void 0==e.props.user?l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{to:"/signin"},"\u0412\u043e\u0439\u0442\u0438"),l.a.createElement(h.a,{to:"/registration"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")):l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{to:"/logout"},"\u0412\u044b\u0439\u0442\u0438"),l.a.createElement(h.a,{to:"/usercabinet"},"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442")),l.a.createElement(h.a,{to:"/public"},"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),l.a.createElement(h.a,{to:"/protectedpage"},"\u0417\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0441 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u043e\u043c"))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"ob"},l.a.createElement("h2",null,"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"),l.a.createElement("p",null,"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442"))))}}]),t}(c.Component),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={data:[]},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"col"},l.a.createElement("div",{className:"block_rxjs_subject"},l.a.createElement("h1",null,"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430")),l.a.createElement("p",null,l.a.createElement(h.a,{to:"/"},"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"))))}}]),t}(c.Component),I=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d.a,{render:function(t){return null!==e.props.user?l.a.createElement(c.Component,t):l.a.createElement(b.a,{to:"/restricted"})}})}}]),t}(c.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log("this",this.props),l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("h1",null,"ZK+")),l.a.createElement("div",null,this.props.loading?l.a.createElement("p",null,"Loading..."):this.props.error?l.a.createElement("p",{className:"error"},"Error, try again"):l.a.createElement("p",null,l.a.createElement("img",{src:this.props.url}))),l.a.createElement("section",null,l.a.createElement(f.a,null,l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(d.a,{exact:!0,path:"/",component:function(){return l.a.createElement(R,e.props)}}),l.a.createElement(d.a,{path:"/registration",component:function(){return l.a.createElement(_,e.props)}}),l.a.createElement(d.a,{path:"/signin",component:function(){return l.a.createElement(N,e.props)}}),l.a.createElement(d.a,{path:"/resetpass",component:function(){return l.a.createElement(j,e.props)}}),l.a.createElement(d.a,{path:"/restricted",component:function(){return l.a.createElement(y,e.props)}}),l.a.createElement(d.a,{path:"/public",component:function(){return l.a.createElement(x,e.props)}}),l.a.createElement(I,{user:this.props.user,path:"/protectedpage",component:function(){return l.a.createElement(g,e.props)}}),l.a.createElement(I,{user:this.props.user,path:"/usercabinet",component:function(){return l.a.createElement(T,e.props)}}),l.a.createElement(d.a,{path:"*",component:function(){return l.a.createElement(S,e.props)}}))))))}}]),t}(c.Component),D=a(24),A=a(19),U=a(29),G=a(4),w=r.a.mark(ee),L=r.a.mark(te),P=r.a.mark(ae),F=r.a.mark(ne),V=r.a.mark(re),q={url:"",loading:!1,error:!1,user:null},M=function(){return{type:"REGISTRATION_START"}},K=function(){return{type:"REGISTRATION_SUCCEDED"}},J=function(){return{type:"REGISTRATION_FAILED"}},H=function(e){return{type:"RESTORE_LINK_START"}},W=function(){return{type:"RESTORE_LINK_SUCCEDED"}},B=function(){return{type:"RESTORE_LINK_FAILED"}},X=function(e){return{type:"SIGN_USER_START"}},Z=function(){return{type:"SIGN_USER_SUCCEDED"}},z=function(){return{type:"SIGN_USER_FAILED"}},Q=function(){return{type:"SIGN_USER_FAILED"}},Y=function(){return{type:"SIGN_USER_FAILED"}},$=function(){return{type:"SIGN_USER_FAILED"}};function ee(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.c)("RESETPASS",ae);case 2:return e.next=4,Object(G.c)("SIGNIN",ne);case 4:return e.next=6,Object(G.c)("REGISTRATION",te);case 6:return e.next=8,Object(G.c)("LOGOUT",re);case 8:case"end":return e.stop()}},w,this)}function te(e){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("registerUser started",e),a.prev=1,a.next=4,Object(G.b)(M());case 4:return a.next=6,Object(G.a)(function(){return fetch("/registeruser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})});case 6:return t=a.sent,a.next=9,Object(G.b)(K(t));case 9:a.next=15;break;case 11:return a.prev=11,a.t0=a.catch(1),a.next=15,Object(G.b)(J());case 15:case"end":return a.stop()}},L,this,[[1,11]])}function ae(e){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(G.b)(H());case 3:return a.next=5,Object(G.a)(function(){return fetch("/restoreusermail",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})});case 5:return t=a.sent,a.next=8,Object(G.b)(W(t));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(G.b)(B());case 14:case"end":return a.stop()}},P,this,[[0,10]])}function ne(e){var t;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(G.b)(X());case 3:return a.next=5,Object(G.a)(function(){return fetch("/signinuser",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})});case 5:return t=a.sent,a.next=8,Object(G.b)(Z(t));case 8:a.next=14;break;case 10:return a.prev=10,a.t0=a.catch(0),a.next=14,Object(G.b)(z());case 14:case"end":return a.stop()}},F,this,[[0,10]])}function re(){var e;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(G.b)(Q());case 3:return t.next=5,Object(G.a)(function(){return fetch("/logoutuser").then(function(e){return e.json()})});case 5:return e=t.sent,t.next=8,Object(G.b)(Y(e));case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),t.next=14,Object(G.b)($());case 14:case"end":return t.stop()}},V,this,[[0,10]])}var ce=Object(U.a)(),le=Object(A.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_START":return{url:"",loading:!0,error:!1};case"LOGIN_SUCCEDED":return{url:t.url,loading:!1,error:!1};case"LOGIN_FAILED":return{url:"",loading:!1,error:!0};case"REGISTRATION_START":return{url:"",loading:!0,error:!1};case"REGISTRATION_SUCCEDED":return{url:t.url,loading:!1,error:!1};case"REGISTRATION_FAILED":return{url:"",loading:!1,error:!0};case"RESTORE_LINK_START":return{url:"",loading:!0,error:!1};case"RESTORE_LINK_SUCCEDED":return{url:t.url,loading:!1,error:!1};case"RESTORE_LINK_FAILED":return{url:"",loading:!1,error:!0};case"SIGN_USER_START":return{url:"",loading:!0,error:!1};case"SIGN_USER_SUCCEDED":return{user:t.data,loading:!1,error:!1};case"SIGN_USER_FAILED":return{user:null,loading:!1,error:!0};case"LOGOUT_USER_START":return{url:"",loading:!0,error:!1};case"LOGOUT_USER_SUCCEDED":return{user:t.data,loading:!1,error:!1};case"LOGOUT_USER_FAILED":return{user:null,loading:!1,error:!0};default:return e}},Object(A.a)(ce));ce.run(ee);var ue=Object(D.b)(function(e){return console.log("state",e),e})(C);s.a.render(l.a.createElement(D.a,{store:le},l.a.createElement(ue,null)),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.3e558cdb.chunk.js.map