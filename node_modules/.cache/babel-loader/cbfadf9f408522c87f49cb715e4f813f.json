{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\111\\\\Desktop\\\\\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u043E\\u0435\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\111\\\\Desktop\\\\\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u043E\\u0435\\\\src\\\\index.js\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(watchFetchDog),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchDogAsync);\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider, connect } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport { createSagaMiddleware } from 'redux-saga';\nimport { takeEvery } from 'redux-saga';\nimport { put, call } from 'redux-saga'; // Reducer\n\nvar initialState = {\n  url: '',\n  loading: false,\n  error: false\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'REQUESTED_DOG':\n      return {\n        url: '',\n        loading: true,\n        error: false\n      };\n\n    case 'REQUESTED_DOG_SUCCEEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false\n      };\n\n    case 'REQUESTED_DOG_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true\n      };\n\n    default:\n      return state;\n  }\n}; // Action Creators\n\n\nvar requestDog = function requestDog() {\n  return {\n    type: 'REQUESTED_DOG'\n  };\n};\n\nvar requestDogSuccess = function requestDogSuccess(data) {\n  return {\n    type: 'REQUESTED_DOG_SUCCEEDED',\n    url: data.message\n  };\n};\n\nvar requestDogError = function requestDogError() {\n  return {\n    type: 'REQUESTED_DOG_FAILED'\n  };\n}; // Sagas\n\n\nfunction watchFetchDog() {\n  return _regeneratorRuntime.wrap(function watchFetchDog$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return takeEvery('FETCHED_DOG', fetchDogAsync);\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}\n\nfunction fetchDogAsync() {\n  var data;\n  return _regeneratorRuntime.wrap(function fetchDogAsync$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return put(requestDog());\n\n        case 3:\n          _context2.next = 5;\n          return call(function () {\n            return fetch('https://dog.ceo/api/breeds/image/random').then(function (res) {\n              return res.json();\n            });\n          });\n\n        case 5:\n          data = _context2.sent;\n          _context2.next = 8;\n          return put(requestDogSuccess(data));\n\n        case 8:\n          _context2.next = 14;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          _context2.next = 14;\n          return put(requestDogError());\n\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[0, 10]]);\n} // Component\n// Store\n\n\nvar sagaMiddleware = createSagaMiddleware();\nvar store = createStore(reducer, applyMiddleware(sagaMiddleware));\nsagaMiddleware.run(watchFetchDog);\nvar ConnectedApp = connect(function (state) {\n  console.log(state);\n  return state;\n})(App); // Container component\n\nReactDOM.render(React.createElement(Provider, {\n  store: store,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 94\n  },\n  __self: this\n}, React.createElement(ConnectedApp, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 95\n  },\n  __self: this\n})), document.getElementById('root')); // If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA","map":{"version":3,"sources":["C:\\Users\\111\\Desktop\\Тестовое\\src\\index.js"],"names":["watchFetchDog","fetchDogAsync","React","ReactDOM","App","Provider","connect","createStore","applyMiddleware","createSagaMiddleware","takeEvery","put","call","initialState","url","loading","error","reducer","state","action","type","requestDog","requestDogSuccess","data","message","requestDogError","fetch","then","res","json","sagaMiddleware","store","run","ConnectedApp","console","log","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'; \nimport {Provider, connect} from  'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport {createSagaMiddleware } from  'redux-saga';\nimport {takeEvery}  from  'redux-saga';\nimport {put, call}  from  'redux-saga';\n\n// Reducer\nconst initialState = {\n  url: '',\n  loading: false,\n  error: false,\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'REQUESTED_DOG':\n      return {\n        url: '',\n        loading: true,\n        error: false,\n      };\n    case 'REQUESTED_DOG_SUCCEEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false,\n      };\n    case 'REQUESTED_DOG_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true,\n      };\n    default:\n      return state;\n  }\n};\n\n// Action Creators\nconst requestDog = () => {\n  return { type: 'REQUESTED_DOG' }\n};\n\nconst requestDogSuccess = (data) => {\n  return { type: 'REQUESTED_DOG_SUCCEEDED', url: data.message }\n};\n\nconst requestDogError = () => {\n  return { type: 'REQUESTED_DOG_FAILED' }\n};\n\n\n\n// Sagas\nfunction* watchFetchDog() {\n  yield takeEvery('FETCHED_DOG', fetchDogAsync);\n}\n\nfunction* fetchDogAsync() {\n  try {\n    yield put(requestDog());\n    const data = yield call(() => {\n      return fetch('https://dog.ceo/api/breeds/image/random')\n              .then(res => res.json())\n      }\n    );\n    yield put(requestDogSuccess(data));\n  } catch (error) {\n    yield put(requestDogError());\n  }\n}\n\n// Component\n \n\n// Store\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  reducer,\n  applyMiddleware(sagaMiddleware)\n);\nsagaMiddleware.run(watchFetchDog);\n\nconst ConnectedApp = connect((state) => {\n  console.log(state);\n  return state;\n})(App);\n\n// Container component\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedApp />\n  </Provider>,\n  document.getElementById('root')\n); \n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n "]},"metadata":{},"sourceType":"module"}