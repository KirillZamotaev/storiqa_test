{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\111\\\\Desktop\\\\\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u043E\\u0435\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\111\\\\Desktop\\\\\\u0422\\u0435\\u0441\\u0442\\u043E\\u0432\\u043E\\u0435\\\\src\\\\index.js\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(userSaga),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(registerUser),\n    _marked3 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(restoreUserMail),\n    _marked4 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(signInUser),\n    _marked5 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(logOutUser);\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider, connect } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { takeEvery } from 'redux-saga/effects';\nimport { put, call } from 'redux-saga/effects'; // Reducer\n\nvar initialState = {\n  url: '',\n  loading: false,\n  error: false,\n  user: null\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'LOGIN_START':\n      return {\n        url: '',\n        loading: true,\n        error: false\n      };\n\n    case 'LOGIN_SUCCEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false\n      };\n\n    case 'LOGIN_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true\n      };\n\n    case 'REGISTRATION_START':\n      return {\n        url: '',\n        loading: true,\n        error: false\n      };\n\n    case 'REGISTRATION_SUCCEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false\n      };\n\n    case 'REGISTRATION_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true\n      };\n\n    case 'RESTORE_LINK_START':\n      return {\n        url: '',\n        loading: true,\n        error: false\n      };\n\n    case 'RESTORE_LINK_SUCCEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false\n      };\n\n    case 'RESTORE_LINK_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true\n      };\n\n    case 'SIGN_USER_START':\n      return {\n        url: '',\n        loading: true,\n        error: false\n      };\n\n    case 'SIGN_USER_SUCCEDED':\n      return {\n        user: action.data,\n        loading: false,\n        error: false\n      };\n\n    case 'SIGN_USER_FAILED':\n      return {\n        user: null,\n        loading: false,\n        error: true\n      };\n\n    default:\n      return state;\n  }\n}; // Action Creators\n\n\nvar registerUserStart = function registerUserStart() {\n  return {\n    type: 'REGISTRATION_START'\n  };\n};\n\nvar registerUserSuccess = function registerUserSuccess() {\n  return {\n    type: 'REGISTRATION_SUCCEDED'\n  };\n};\n\nvar registerUserFailed = function registerUserFailed() {\n  return {\n    type: 'REGISTRATION_FAILED'\n  };\n};\n\nvar restoreUserMailStart = function restoreUserMailStart() {\n  return {\n    type: 'RESTORE_LINK_START'\n  };\n};\n\nvar restoreUserMailSuccess = function restoreUserMailSuccess() {\n  return {\n    type: 'RESTORE_LINK_SUCCEDED'\n  };\n};\n\nvar restoreUserMailFail = function restoreUserMailFail() {\n  return {\n    type: 'RESTORE_LINK_FAILED'\n  };\n};\n\nvar registrationSuccess = function registrationSuccess(data) {\n  return {\n    type: 'REGISTRATION_SUCCEDED',\n    url: data.message\n  };\n};\n\nvar signInUserStart = function signInUserStart() {\n  return {\n    type: 'SIGN_USER_START'\n  };\n};\n\nvar signInUserSuccess = function signInUserSuccess() {\n  return {\n    type: 'SIGN_USER_SUCCEDED'\n  };\n};\n\nvar signInUserFail = function signInUserFail() {\n  return {\n    type: 'SIGN_USER_FAILED'\n  };\n};\n\nvar logUutUserFail = function logUutUserFail() {\n  return {\n    type: 'SIGN_USER_FAILED'\n  };\n}; // Sagas\n\n\nfunction userSaga() {\n  return _regeneratorRuntime.wrap(function userSaga$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return takeEvery('RESTORE_MAIL', restoreUserMail);\n\n        case 2:\n          _context.next = 4;\n          return takeEvery('SIGNIN', signInUser);\n\n        case 4:\n          _context.next = 6;\n          return takeEvery('REGISTRATION', registerUser);\n\n        case 6:\n          _context.next = 8;\n          return takeEvery('REGISTRATION', logOutUser);\n\n        case 8:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this);\n}\n\nfunction registerUser() {\n  var data;\n  return _regeneratorRuntime.wrap(function registerUser$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return put(registerUserStart());\n\n        case 3:\n          _context2.next = 5;\n          return call(function () {\n            return fetch('/registeruser').then(function (res) {\n              return res.json();\n            });\n          });\n\n        case 5:\n          data = _context2.sent;\n          _context2.next = 8;\n          return put(registerUserSuccess(data));\n\n        case 8:\n          _context2.next = 14;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](0);\n          _context2.next = 14;\n          return put(registerUserFailed());\n\n        case 14:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this, [[0, 10]]);\n}\n\nfunction restoreUserMail() {\n  var data;\n  return _regeneratorRuntime.wrap(function restoreUserMail$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return put(restoreUserMailStart());\n\n        case 3:\n          _context3.next = 5;\n          return call(function () {\n            return fetch('/restoreusermail').then(function (res) {\n              return res.json();\n            });\n          });\n\n        case 5:\n          data = _context3.sent;\n          _context3.next = 8;\n          return put(restoreUserMailSuccess(data));\n\n        case 8:\n          _context3.next = 14;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 14;\n          return put(restoreUserMailFail());\n\n        case 14:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, this, [[0, 10]]);\n}\n\nfunction signInUser() {\n  var data;\n  return _regeneratorRuntime.wrap(function signInUser$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n          _context4.next = 3;\n          return put(signInUserStart());\n\n        case 3:\n          _context4.next = 5;\n          return call(function () {\n            return fetch('/signinuser').then(function (res) {\n              return res.json();\n            });\n          });\n\n        case 5:\n          data = _context4.sent;\n          _context4.next = 8;\n          return put(signInUserSuccess(data));\n\n        case 8:\n          _context4.next = 14;\n          break;\n\n        case 10:\n          _context4.prev = 10;\n          _context4.t0 = _context4[\"catch\"](0);\n          _context4.next = 14;\n          return put(signInUserFail());\n\n        case 14:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4, this, [[0, 10]]);\n}\n\nfunction logOutUser() {\n  var data;\n  return _regeneratorRuntime.wrap(function logOutUser$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return put(logOutUserStart());\n\n        case 3:\n          _context5.next = 5;\n          return call(function () {\n            return fetch('/logoutuser').then(function (res) {\n              return res.json();\n            });\n          });\n\n        case 5:\n          data = _context5.sent;\n          _context5.next = 8;\n          return put(logOutUserSuccess(data));\n\n        case 8:\n          _context5.next = 14;\n          break;\n\n        case 10:\n          _context5.prev = 10;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 14;\n          return put(logOutUserFail());\n\n        case 14:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, this, [[0, 10]]);\n} // Component\n// Store\n\n\nvar sagaMiddleware = createSagaMiddleware();\nvar store = createStore(reducer, applyMiddleware(sagaMiddleware));\nsagaMiddleware.run(userSaga);\nvar ConnectedApp = connect(function (state) {\n  console.log(state);\n  return state;\n})(App); // Container component\n\nReactDOM.render(React.createElement(Provider, {\n  store: store,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 231\n  },\n  __self: this\n}, React.createElement(ConnectedApp, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 232\n  },\n  __self: this\n})), document.getElementById('root')); // If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA","map":{"version":3,"sources":["C:\\Users\\111\\Desktop\\Тестовое\\src\\index.js"],"names":["userSaga","registerUser","restoreUserMail","signInUser","logOutUser","React","ReactDOM","App","Provider","connect","createStore","applyMiddleware","createSagaMiddleware","takeEvery","put","call","initialState","url","loading","error","user","reducer","state","action","type","data","registerUserStart","registerUserSuccess","registerUserFailed","restoreUserMailStart","restoreUserMailSuccess","restoreUserMailFail","registrationSuccess","message","signInUserStart","signInUserSuccess","signInUserFail","logUutUserFail","fetch","then","res","json","logOutUserStart","logOutUserSuccess","logOutUserFail","sagaMiddleware","store","run","ConnectedApp","console","log","render","document","getElementById"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'; \nimport {Provider, connect} from  'react-redux';\nimport {createStore, applyMiddleware} from 'redux';\nimport createSagaMiddleware from  'redux-saga';\nimport {takeEvery}  from  'redux-saga/effects';\nimport {put, call}  from  'redux-saga/effects';\n\n// Reducer\nconst initialState = {\n  url: '',\n  loading: false,\n  error: false,\n  user:null\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'LOGIN_START':\n      return {\n        url: '',\n        loading: true,\n        error: false,\n      };\n    case 'LOGIN_SUCCEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false,\n      };\n    case 'LOGIN_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true,\n      };\n\tcase 'REGISTRATION_START':\n      return {\n        url: '',\n        loading: true,\n        error: false,\n      };\n    case 'REGISTRATION_SUCCEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false,\n      };\n    case 'REGISTRATION_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true,\n      };\n\tcase 'RESTORE_LINK_START':\n      return {\n        url: '',\n        loading: true,\n        error: false,\n      };\n    case 'RESTORE_LINK_SUCCEDED':\n      return {\n        url: action.url,\n        loading: false,\n        error: false,\n      };\n    case 'RESTORE_LINK_FAILED':\n      return {\n        url: '',\n        loading: false,\n        error: true,\n      };\n\tcase 'SIGN_USER_START':\n      return {\n        url: '',\n        loading: true,\n        error: false,\n      };\n    case 'SIGN_USER_SUCCEDED':\n      return {\n        user: action.data,\n        loading: false,\n        error: false,\n      };\n    case 'SIGN_USER_FAILED':\n      return {\n        user: null,\n        loading: false,\n        error: true,\n      };  \n    default:\n      return state;\n  }\n};\n\n// Action Creators\nconst registerUserStart = () => {\n  return { type: 'REGISTRATION_START' }\n};\nconst registerUserSuccess = () => {\n  return { type: 'REGISTRATION_SUCCEDED' }\n};\n\nconst registerUserFailed = () => {\n  return { type: 'REGISTRATION_FAILED' }\n};\n\n\nconst restoreUserMailStart = () => {\n  return { type: 'RESTORE_LINK_START' }\n};\n\nconst restoreUserMailSuccess = () => {\n  return { type: 'RESTORE_LINK_SUCCEDED' }\n};\n\nconst restoreUserMailFail = () => {\n  return { type: 'RESTORE_LINK_FAILED' }\n};\n\n\n\n\nconst registrationSuccess = (data) => {\n  return { type: 'REGISTRATION_SUCCEDED', url: data.message }\n};\n\n \n \nconst signInUserStart = () => {\n  return { type: 'SIGN_USER_START' }\n};\n\nconst signInUserSuccess = () => {\n  return { type: 'SIGN_USER_SUCCEDED' }\n};\n\nconst signInUserFail = () => {\n  return { type: 'SIGN_USER_FAILED' }\n};\n\nconst logUutUserFail = () => {\n  return { type: 'SIGN_USER_FAILED' }\n};\n\n\n// Sagas\nfunction* userSaga() { \n  yield takeEvery('RESTORE_MAIL', restoreUserMail);\n  yield takeEvery('SIGNIN', signInUser);\n  yield takeEvery('REGISTRATION', registerUser);\n  yield takeEvery('REGISTRATION', logOutUser);\n}\n\nfunction* registerUser() {\n  try {\n    yield put(registerUserStart());\n    const data = yield call(() => {\n      return fetch('/registeruser')\n              .then(res => res.json())\n      }\n    );\n    yield put(registerUserSuccess(data));\n  } catch (error) {\n    yield put(registerUserFailed());\n  }\n}\n\nfunction* restoreUserMail() {\n  try {\n    yield put(restoreUserMailStart());\n    const data = yield call(() => {\n      return fetch('/restoreusermail')\n              .then(res => res.json())\n      }\n    );\n    yield put(restoreUserMailSuccess(data));\n  } catch (error) {\n    yield put(restoreUserMailFail());\n  }\n}\n\nfunction* signInUser() {\n  try {\n    yield put(signInUserStart());\n    const data = yield call(() => {\n      return fetch('/signinuser')\n              .then(res => res.json())\n      }\n    );\n    yield put(signInUserSuccess(data));\n  } catch (error) {\n    yield put(signInUserFail());\n  }\n}\n\n\nfunction* logOutUser() {\n  try {\n    yield put(logOutUserStart());\n    const data = yield call(() => {\n      return fetch('/logoutuser')\n              .then(res => res.json())\n      }\n    );\n    yield put(logOutUserSuccess(data));\n  } catch (error) {\n    yield put(logOutUserFail());\n  }\n}\n\n// Component\n \n\n// Store\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(\n  reducer,\n  applyMiddleware(sagaMiddleware)\n);\nsagaMiddleware.run(userSaga);\n\nconst ConnectedApp = connect((state) => {\n  console.log(state);\n  return state;\n})(App);\n\n// Container component\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedApp />\n  </Provider>,\n  document.getElementById('root')\n); \n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n "]},"metadata":{},"sourceType":"module"}